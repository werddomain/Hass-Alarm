$(document).ready(function(){function u(n){var i=$("#StateIcon"),r=$("#StateText"),u=$("#StateColor");if(n!=t.unlock)switch(n){case t.arm:i.attr("class","mdi mdi-bell-alert");r.text("Armé");u.attr("class","text-danger");break;case t.arm_home:i.attr("class","mdi mdi-bell-circle");r.text("Armé à la maison");u.attr("class","text-warning");break;case t.disarm:i.attr("class","mdi mdi-bell-off");r.text("Désarmé");u.attr("class","text-success")}}function f(n){$("#action-field").val(n);$("#send").click()}function i(){numbers.removeClass("nocircle");pin=""}function r(){n&&clearTimeout(n);n=null;i();$("#pin-code").val("");$(".UnLocked").addClass("hidden");$(".Locked").removeClass("hidden")}$(function(){var n="",u=$("#numberInputs .numberinput");$(".btn-lock").click(r);$(".cmdButton").click(function(){var n=$(this).data("state");f(n)});$(".content").click(function(){var o=$(this),r=o.find(".number"),e=r.text();r.hasClass("accept")?(f(t.unlock),i()):r.hasClass("delete")?(n.length>0&&(n=n.substr(0,n.length-1)),$($(".numberinput").get().reverse()).each(function(){var n=$(this).text();if(n)return $(this).text(""),$(this).removeClass("nocircle"),!1})):e!=="<"&&n.length<u.length&&(n+=e,$(".numberinput").each(function(){var n=$(this).text();if(!n)return $(this).text("*"),$(this).addClass("nocircle"),!1}));$("#pin-code").val(n)})});var t={arm:"arm",disarm:"disarm",arm_home:"arm_home",unlock:"unlock"},n=null;u($("#startup-state").val());$("form[ajax=true]").submit(function(n){n.preventDefault();var t=$(this).serialize(),i=$(this).attr("action"),r=$(this).attr("method").toUpperCase();$("#loadingimg").show();$.ajax({url:i,type:r,data:t,cache:!1,success:function(n){$("#result").html(n);$("#loadingimg").hide()}})})});